:VERSION: v0.0.0-alpha.7
:MAIN_TITLE: Git Xtended
:MAIN_TITLE_SHORT: GX
:BASHRC_PATH: ~/.bashrc
:BASH_PROFILE_PATH: ~/.bash_profile
:GX_ROOT: ~/git-xtended
:GX_ENTRY_FILE: gx.sh
:GX_ENTRY_FILE_PATH: {GX_ROOT}/{GX_ENTRY_FILE}
:GIT_PROJECT: https://github.com/jprivet-dev/git-xtended
:GIT_CLONE_PROJECT: git@github.com:jprivet-dev/git-xtended.git
:PROMPT_PS1: 09:15:27 user@host:~/path/project username(branch) 8≡ 1? 3! c(2 +1 -1) 3↓ 42↑

= {MAIN_TITLE} ({VERSION})
:numbered:
:toc: macro

image::https://api.codacy.com/project/badge/Grade/0e5266aa58fa4c7e8b0759971ae1b45d[Codacy Badge, link=https://www.codacy.com?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=jprivet-dev/git-xtended&amp;utm_campaign=Badge_Grade]

'''

:toc-title: Summary
:toclevels: 2
toc::[]

'''

== Presentation

{MAIN_TITLE} facilitates recurring Git actions in shell :

- Project status display with main Git information in prompt
- Aliases of recurring Git commands
- Formatted commit with a `prepare-commit-msg` hook

== Installation

*1) Clone the project*

[source,shell]
[subs=attributes+]
----
$ cd
$ git clone {GIT_CLONE_PROJECT}
----

*2) Import `{GX_ENTRY_FILE}` in `{BASHRC_PATH}`*

Copy the following code at the end of your file `{BASHRC_PATH}` (or in `{BASH_PROFILE_PATH}`) :

[source,shell]
[subs=attributes+]
----
# If the file `{GX_ENTRY_FILE}` exists, then load it
[[ -f {GX_ENTRY_FILE_PATH} ]] && source {GX_ENTRY_FILE_PATH}
----

*3) Reload `{BASHRC_PATH}` (avoid logout and back to the shell)*

[source,shell]
[subs=attributes+]
----
$ . {BASHRC_PATH}

 _____ _ _      __ __ _             _       _
|   __|_| |_   |  |  | |_ ___ ___ _| |___ _| |
|  |  | |  _|  |-   -|  _| ._|   | . | ._| . |
|_____|_|_|    |__|__|_| |___|_|_|___|___|___|

                                        v0.0.0
----------------------------------------------
Prompt with Git information           Disabled
Git aliases                           Disabled
----------------------------------------------
- {GIT_PROJECT} -
----------------------------------------------
----

*4) Activate the {MAIN_TITLE} options you want*

[source,shell]
[subs=attributes+]
----
$ gx install

{MAIN_TITLE} install (Global configuration)

> Prompt with Git information   [0] Disabled  [1] Enabled : 1
> Prompt with Git information = Enabled
> Remote branch reference  : origin/dev
> Remote branch reference = origin/dev
> Git aliases   [0] Disabled  [1] Enabled : 1
> Git aliases = Enabled
----

After installation, you will be able to see the {MAIN_TITLE} parameters in the global Git `.config` file. For example :

----
[gx]
	prompt-status = Enabled
	remote-branch-ref = origin/dev
	gitaliases-status = Enabled
[alias]
    ...
----

== Update

[source,shell]
[subs=attributes+]
----
$ cd {GX_ROOT}
$ git pull origin master
$ gx reload
----

== Features overview

=== Prompt with Git information

*{MAIN_TITLE}* changes the prompt (`PS1`) and adds information about Git :

image::doc/img/gx-prompt.gif[{PROMPT_PS1}]

[source,shell]
[subs=attributes+]
----
{PROMPT_PS1}
$ gx help

Prompt with Git information :
    username(branch) ... Current Git username & branch
    8≡ ................. All elements from git status
    1? ................. Untracked files
    3! ................. Changes not staged for commit
    c(2 +1 -1) ......... Changes to be committed
    3↓ ................. Commits behind remote branch reference
    42↑ ................ Commits ahead remote branch reference
----

=== Git aliases

[source,shell]
----
$ gx help

Git aliases :
         log | git l .................... Show the last 12 commit logs (graphical representation)
               git ll ................... Show all commit logs (graphical representation)
               git lfile <file> ......... Show all commit logs for a specific file (graphical representation)
               git lmerges .............. Show all merge logs (graphical representation)
               git lcount ............... Number of commits per author
      branch | git b .................... Simple "branch" alias
    checkout | git ck [<i>|<path>] ...... Extended "checkout" alias (select file with index status instead of path)
      status | git s .................... Indexed status list (staged, unstaged, and untracked files)
               git ss ................... Simple "status" alias
        diff | git d [<i>|<path>] ....... Extended "diff" alias (select file with index status instead of path)
         add | git a [<i>|<path>] ....... Extended "add" alias (select file with index status instead of path)
               git all .................. Add all files (new, modified and deleted)
               git nm ................... Add new and modified files, without deleted
               git md ................... Add modified and deleted files, without new
      commit | git c [<i>|<path>|all] ... Extended "commit" alias (select file with index status instead of path)
               git amend ................ Oops level 1! Modify the last commit
       reset | git r .................... Simple "reset" alias
               git hard [<commit>] ...... Simple "reset --hard" alias (by default, discard any changes to tracked files, since last commit)
               git undo ................. Oops level 2! Undo the last commit, while keeping files changes
       clean | git untracked ............ Remove all untracked files
        grep | git find <string> ........ Look for specified strings in the tracked files (case sensitive)
----

==== `git c` : commits are documentation

[source,shell]
----
$ git c

<type*>
 archi ...... Changes application architecture (folder position, name, ...)
 conf ....... Changes configuration, parameters (config.yml, .gitignore, .gitkeep, ...)
 content .... Changes wording or images in contents
 chore ...... Changes to the build process or auxiliary tools and libraries (Gulp, Composer, ...)
 dev ........ Changes main code (creation, enhancement, evolution, ...)
 docs ....... Documentation only changes
 integ ...... Web integration, UX works - doesn't touch business logic (css, js, ...)
 install .... Install or update project, modules, pluggins (ex: composer install ...)
 tpl ........ Templating works (Twig, Drupal templating, Smarty, ...)
 trans ...... Adds locale-specific components, translates text, ...

<subtype>
 clean ...... Remove pointless code or files
 debug ...... Adding code for debugging (console.log, dpm, var_dump, ...), to remove later !
 fix ........ Bug fix
 generate ... Auto-generate code (Doctrine, PhoneGap, Ionic, ...)
 perf ....... A code change that improves performance
 refactor ... A code change that neither fixes a bug nor adds a feature
 style ...... Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, ...)

MSG = <type*>.<subtype>(<scope*>): <subject*>
----

=== {MAIN_TITLE} commands

[source,shell]
----
$ gx help

(3) GX commands :
    gx help ............ Display help information about GX
    gx install ......... Select and install GX elements
    gx reload .......... Reload GX
    gx status .......... Show status of GX elements
    gx config .......... Show GX git configuration
    gx colors .......... Show all GX colors
    gx test [<func>] ... Run one or all GX tests
----

== Tips

=== Use index instead of name

For example, `$ git s` is an indexed version of `$ git status`:

[source,shell]
----
$ git s
1)  M path/to/my/file1.sh
2)  M path/to/my/file2.sh
3)  M path/to/my/file3.sh
----

Instead of specifying the name of the file you want to commit, just *specify the index*:

[source,shell]
----
$ git c 2
> git add (2) path/to/my/file2.sh
> & commit ...

--------------------------------------------------
 M path/to/my/file1.sh
M  path/to/my/file2.sh
 M path/to/my/file3.sh
--------------------------------------------------

# Then follow the steps of `prepare-commit-msg` hook
----

If you specify *no index*, the *first file* will be chosen by default:

[source,shell]
----
$ git c
> git add (1) path/to/my/file1.sh
> & commit ...

--------------------------------------------------
M  path/to/my/file1.sh
 M path/to/my/file2.sh
 M path/to/my/file3.sh
--------------------------------------------------

# Then follow the steps of `prepare-commit-msg` hook
----

You can also specify *multiple indexes*:

[source,shell]
----
$ git c 1 3
> git add (1) path/to/my/file1.sh
> git add (3) path/to/my/file3.sh
> & commit ...

--------------------------------------------------
M  path/to/my/file1.sh
 M path/to/my/file2.sh
M  path/to/my/file3.sh
--------------------------------------------------

# Then follow the steps of `prepare-commit-msg` hook
----
=== Customization

== Ressources & Inspiration